{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'student_management/style.css' %}">

{% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div class="alert {{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

<div class="container1">
    <h2>Student Registration</h2>
    <div class="container-reg">
        <form method="post" class="registration-form" enctype="multipart/form-data">
            {% csrf_token %}

            {% for field in form %}
            <div class="form-group">
                {{ field.label_tag }}
                {{ field }}
                
                <!-- Display field-specific errors -->
                {% if field.errors %}
                    <div class="error-messages">
                        {% for error in field.errors %}
                            <p style="color: red; font-size: 14px;">{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>
            {% endfor %}

            <!-- Display non-field errors (like password mismatch) -->
            {% if form.non_field_errors %}
                <div class="error-messages">
                    {% for error in form.non_field_errors %}
                        <p style="color: red; font-size: 14px;">{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}

            <button type="submit">Register</button>
            <a href="{% url 'login' %}">Already have an account? Login</a>
        </form>
    </div>
</div>
{% endblock %}
